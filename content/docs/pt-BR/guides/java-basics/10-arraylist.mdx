---
title: 10 — ArrayList e Coleções
description: Aprenda a usar coleções flexíveis e responsivas em Java.
---

Arrays have a fixed size, but what if you need to add or remove elements? That's where `ArrayList` comes in - a resizable collection that grows and shrinks automatically.

## Noções básicas de ArrayList

```java
import java.util.ArrayList;

public class Main {
    public static void main(String[] args) {
        // Create an ArrayList of Strings
        ArrayList<String> players = new ArrayList<>();
        
        // Add elements
        players.add("Alice");
        players.add("Bob");
        players.add("Charlie");
        
        System.out.println(players);  // [Alice, Bob, Charlie]
    }
}
```

<Callout type="info" title="ArrayList vs. Array">
  | **Array**                               | **ArrayList**                                         |
  | --------------------------------------- | ----------------------------------------------------- |
  | Fixed size                              | Resizable (grows/shrinks)                             |
  | Can hold primitives (int, double, etc.) | Can only hold objects (Integer, Double, String, etc.) |
  | Acesso rápido                           | Mais recursos (adicionar, remover etc.)               |
  | `int[] numeros = new int[10];`          | `ArrayList<Integer> numeros = new ArrayList<>();`     |
</Callout>

## Criando ArrayLists

```java
import java.util.ArrayList;

// ArrayList vazio
ArrayList<String> itens = new ArrayList<>();

// Com valores iniciais  (Java 9+)
ArrayList<String> cores = new ArrayList<>(List.of("Vermelho", "Verde", "Azul"));

// Tipos diferentes
ArrayList<Integer> numeros = new ArrayList<>();
ArrayList<Double> precos = new ArrayList<>();
ArrayList<Boolean> bandeiras = new ArrayList<>();
```

<Callout type="warning" title="Tipos primitivos em ArrayList">
  Você não pode usar tipos primitivos diretamente. Use as classes wrapper:

  ```java
  // Errado
  ArrayList<int> numeros = new ArrayList<>();

  // Correto — Use uma classe wrapper (encapsuladora)
  ArrayList<Integer> numeros = new ArrayList<>();
  ```

  Classes wrapper:

  - `int` → `inteiro`
  - `double` → `dobro`
  - `boolean` → `booleano`
  - `char` → `personagem`
</Callout>

## Métodos comuns de ArrayList

### Adicionando elementos

```java
ArrayList<String> itens = new ArrayList<>();

itens.add("Espada");           // Adiciona para o final
itens.add("Escudo");
itens.add(0, "Capacete");       // Adiciona a um índice específico

System.out.println(itens);    // [Capacete, Espada, Escudo]
```

### Acessando elementos

```java
ArrayList<String> itens = new ArrayList<>();
itens.add("Espada");
itens.add("Escudo");

String primeiro = itens.get(0);    // "Espada"
String segundo = itens.get(1);   // "Escudo"

int tamanho = itens.size();        // 2
```

### Removendo elementos

```java
ArrayList<String> itens = new ArrayList<>();
itens.add("Espada");
itens.add("Escudo");
itens.add("Poção");

itens.remove(1);               // Remover por índice (Escudo)
itens.remove("Poção");        // Remover por valor

System.out.println(itens);     // [Espada]
```

### Verificando elementos

```java
ArrayList<String> itens = new ArrayList<>();
itens.add("Espada");
itens.add("Escudo");

boolean temEspada = itens.contains("Espada");     // verdadeiro
boolean temMachado = itens.contains("Machado");         // falso

boolean estaVazio = itens.isEmpty();              // falso
int tamanho = itens.size();                        // 2
```

### Modificando elementos

```java
ArrayList<String> itens = new ArrayList<>();
itens.add("Espada de Madeira");

itens.set(0, "Espada de Ferro");    // Substitui no índice 0

System.out.println(itens);     // [Espada de Ferro]
```

### Limpando todos os elementos

```java
ArrayList<String> itens = new ArrayList<>();
itens.add("Espada");
itens.add("Escudo");

itens.clear();                 // Remove tudo
System.out.println(itens);     // []
```

## Looping Through ArrayList

### Usando o loop `For`

```java
ArrayList<String> jogadores = new ArrayList<>();
jogadores.add("Alice");
jogadores.add("Bob");
jogadores.add("Charlie");

for (int i = 0; i < jogadores.size(); i++) {
    System.out.println(jogadores.get(i));
}
```

### Usando o aprimoramento do loop `For`

```java
for (String jogador : jogadores) {
    System.out.println(jogador);
}
```

### Usando `forEach` (Java 8+)

```java
players.forEach(player -> System.out.println(player));
```

## Exemplos práticos

### Sistema de inventário do jogador

```java
import java.util.ArrayList;

public class Inventario {
    private ArrayList<String> itens;
    private int tamanhoMax;
    
    public Inventario(int tamanhoMax) {
        this.itens = new ArrayList<>();
        this.tamanhoMax = tamanhoMax;
    }
    
    public boolean adicionarItem(String item) {
        if (itens.size() >= tamanhoMax) {
            System.out.println("Inventario cheio!");
            return false;
        }
        
        itens.add(item);
        System.out.println(item + " adicionado(a).");
        return true;
    }
    
    public boolean removerItem(String item) {
        if (itens.remove(item)) {
            System.out.println(item + " removido(a).");
            return true;
        }
        
        System.out.println("Item não encontrado!");
        return false;
    }
    
    public void mostrarInventario() {
        System.out.println("=== Inventario (" + itens.size() + "/" + tamanhoMax + ") ===");
        for (int i = 0; i < itens.size(); i++) {
            System.out.println((i + 1) + ". " + itens.get(i));
        }
    }
    
    public int obterContagemItem() {
        return itens.size();
    }
    
    public boolean estaCheio() {
        return itens.size() >= tamanhoMax;
    }
}

// Classe de uso
public class Main {
    public static void main(String[] args) {
        Inventario inv = new Inventario(5);
        
        inv.adicionarItem("Espada");
        inv.adicionarItem("Escudo");
        inv.adicionarItem("Poção");
        inv.mostrarInventario();
        
        inv.removerItem("Escudo");
        inv.mostrarInventario();
    }
}
```

### Sistema de missões

```java
import java.util.ArrayList;

public class QuestManager {
    private ArrayList<String> activeQuests;
    private ArrayList<String> completedQuests;
    
    public QuestManager() {
        this.activeQuests = new ArrayList<>();
        this.completedQuests = new ArrayList<>();
    }
    
    public void startQuest(String questName) {
        if (!activeQuests.contains(questName)) {
            activeQuests.add(questName);
            System.out.println("Quest started: " + questName);
        } else {
            System.out.println("Quest already active!");
        }
    }
    
    public void completeQuest(String questName) {
        if (activeQuests.remove(questName)) {
            completedQuests.add(questName);
            System.out.println("Quest completed: " + questName);
        } else {
            System.out.println("Quest not found in active quests!");
        }
    }
    
    public void displayQuests() {
        System.out.println("\n=== Active Quests ===");
        if (activeQuests.isEmpty()) {
            System.out.println("No active quests");
        } else {
            for (String quest : activeQuests) {
                System.out.println("- " + quest);
            }
        }
        
        System.out.println("\n=== Completed Quests ===");
        if (completedQuests.isEmpty()) {
            System.out.println("No completed quests");
        } else {
            for (String quest : completedQuests) {
                System.out.println("" + quest);
            }
        }
    }
    
    public int getTotalCompleted() {
        return completedQuests.size();
    }
}
```

### Sistema de classificação

```java
import java.util.ArrayList;
import java.util.Collections;

public class Leaderboard {
    private ArrayList<Integer> scores;
    private ArrayList<String> players;
    
    public Leaderboard() {
        this.scores = new ArrayList<>();
        this.players = new ArrayList<>();
    }
    
    public void addScore(String player, int score) {
        players.add(player);
        scores.add(score);
        System.out.println(player + " scored " + score + " points!");
    }
    
    public void displayTop(int count) {
        System.out.println("\n=== Top " + count + " Players ===");
        
        // Create copies to sort
        ArrayList<Integer> sortedScores = new ArrayList<>(scores);
        ArrayList<String> sortedPlayers = new ArrayList<>(players);
        
        // Bubble sort (simple for learning)
        for (int i = 0; i < sortedScores.size() - 1; i++) {
            for (int j = 0; j < sortedScores.size() - i - 1; j++) {
                if (sortedScores.get(j) < sortedScores.get(j + 1)) {
                    // Swap scores
                    int tempScore = sortedScores.get(j);
                    sortedScores.set(j, sortedScores.get(j + 1));
                    sortedScores.set(j + 1, tempScore);
                    
                    // Swap players
                    String tempPlayer = sortedPlayers.get(j);
                    sortedPlayers.set(j, sortedPlayers.get(j + 1));
                    sortedPlayers.set(j + 1, tempPlayer);
                }
            }
        }
        
        // Display top scores
        int limit = Math.min(count, sortedScores.size());
        for (int i = 0; i < limit; i++) {
            System.out.println((i + 1) + ". " + sortedPlayers.get(i) + 
                             " - " + sortedScores.get(i) + " points");
        }
    }
}
```

### Rastreador de jogadores online

```java
import java.util.ArrayList;

public class OnlinePlayersTracker {
    private ArrayList<String> onlinePlayers;
    
    public OnlinePlayersTracker() {
        this.onlinePlayers = new ArrayList<>();
    }
    
    public void playerJoin(String playerName) {
        if (!onlinePlayers.contains(playerName)) {
            onlinePlayers.add(playerName);
            broadcast(playerName + " joined the game");
            updatePlayerCount();
        }
    }
    
    public void playerLeave(String playerName) {
        if (onlinePlayers.remove(playerName)) {
            broadcast(playerName + " left the game");
            updatePlayerCount();
        }
    }
    
    public boolean isOnline(String playerName) {
        return onlinePlayers.contains(playerName);
    }
    
    public int getPlayerCount() {
        return onlinePlayers.size();
    }
    
    public void listPlayers() {
        System.out.println("\n=== Online Players (" + getPlayerCount() + ") ===");
        for (String player : onlinePlayers) {
            System.out.println("• " + player);
        }
    }
    
    private void broadcast(String message) {
        System.out.println("[Server] " + message);
    }
    
    private void updatePlayerCount() {
        System.out.println("Players online: " + getPlayerCount());
    }
}
```

## ArrayList de objetos personalizados

Você pode armazenar suas próprias classes em ArrayLists:

```java
public class Player {
    private String name;
    private int level;
    
    public Player(String name, int level) {
        this.name = name;
        this.level = level;
    }
    
    public String getName() {
        return name;
    }
    
    public int getLevel() {
        return level;
    }
    
    @Override
    public String toString() {
        return name + " (Lv. " + level + ")";
    }
}

public class Main {
    public static void main(String[] args) {
        ArrayList<Player> players = new ArrayList<>();
        
        players.add(new Player("Alice", 10));
        players.add(new Player("Bob", 15));
        players.add(new Player("Charlie", 8));
        
        // Display all players
        for (Player player : players) {
            System.out.println(player);
        }
        
        // Find player by name
        for (Player player : players) {
            if (player.getName().equals("Bob")) {
                System.out.println("Found: " + player);
            }
        }
    }
}
```

## Useful ArrayList Operations

### Converter para Array

```java
ArrayList<String> list = new ArrayList<>();
list.add("A");
list.add("B");

String[] array = list.toArray(new String[0]);
```

### Converter Array para ArrayList

```java
String[] array = {"A", "B", "C"};
ArrayList<String> list = new ArrayList<>(Arrays.asList(array));
```

### Copiar uma ArrayList

```java
ArrayList<String> original = new ArrayList<>();
original.add("A");
original.add("B");

// Shallow copy
ArrayList<String> copy = new ArrayList<>(original);
```

### Find Index of Element

```java
ArrayList<String> items = new ArrayList<>();
items.add("Sword");
items.add("Shield");

int index = items.indexOf("Shield");  // 1
int notFound = items.indexOf("Axe");  // -1
```

## Exemplos práticos

1. **Carrinho de Compras**: Crie um sistema de carrinho de compras:
   - Adicionar itens
   - Remover itens
   - Calcular o total de itens
   - Esvaziar carrinho

2. **Lista de Amigos**: Crie um sistema de gerenciamento de amizades:
   - Adicionar amigo
   - Remover amigo
   - Check if someone is a friend
   - Mostrar todos os amigos

3. **Lista de Terafas**: Contrua uma lista de tarefas:
   - Adicionar tarefa
   - Marcar tarefa como concluída (mover para a lista de tarefas concluídas)
   - Mostrar tarefas ativas
   - Mostrar tarefas concluídas

4. **Pontuações**: Criar um sistema de pontuações:
   - Adicionar pontuações
   - Mostrar as 5 melhores pontuações em ordem
   - Remove lowest score if more than 10 scores exist

---
